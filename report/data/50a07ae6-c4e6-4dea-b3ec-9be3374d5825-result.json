{"name": "角色列表查询", "status": "broken", "statusDetails": {"message": "TypeError: expected string or bytes-like object", "trace": "cases = ['c3', '角色列表查询', '{\"Authorization\": \"${token}\"}', 'userMgr/roleList', 'get', 'params', ...]\n\n    @pytest.mark.flaky(reruns=None, reruns_delay=1) #pytest 失败重跑装饰器\n    def test_main(cases):   # 不使用数据库功能\n        # 发送请求\n>       response, response_code, expect, sql, check_mode = BaseRequest.send_request(cases, env = 'dev')\n\ntest\\test_api.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\napi\\base_requests.py:51: in send_request\n    DataProcess.handle_extra(extra, response)\ntools\\data_process.py:112: in handle_extra\n    response = rep_expr(response, cls.extra_pool)\ntools\\__init__.py:54: in rep_expr\n    content = Template(content).safe_substitute(data)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <string.Template object at 0x000002570B693820>, mapping = {}, kws = {}\nconvert = <function Template.safe_substitute.<locals>.convert at 0x000002570B671E50>\n\n    def safe_substitute(self, mapping=_sentinel_dict, /, **kws):\n        if mapping is _sentinel_dict:\n            mapping = kws\n        elif kws:\n            mapping = _ChainMap(kws, mapping)\n        # Helper function for .sub()\n        def convert(mo):\n            named = mo.group('named') or mo.group('braced')\n            if named is not None:\n                try:\n                    return str(mapping[named])\n                except KeyError:\n                    return mo.group()\n            if mo.group('escaped') is not None:\n                return self.delimiter\n            if mo.group('invalid') is not None:\n                return mo.group()\n            raise ValueError('Unrecognized named group in pattern',\n                             self.pattern)\n>       return self.pattern.sub(convert, self.template)\nE       TypeError: expected string or bytes-like object\n\nE:\\python3.9.6\\lib\\string.py:142: TypeError"}, "steps": [{"name": "请求地址: http://192.168.0.6/api/userMgr/roleList", "status": "passed", "start": 1648882062629, "stop": 1648882062629}, {"name": "请求头", "status": "passed", "attachments": [{"name": "请求头", "source": "5d378074-be4f-4108-aab4-b1241a37b68d-attachment.json", "type": "application/json"}], "start": 1648882062629, "stop": 1648882062629}, {"name": "请求数据", "status": "passed", "attachments": [{"name": "请求数据", "source": "cc0b200f-404c-42e4-afd6-6e6692c8e269-attachment.json", "type": "application/json"}], "start": 1648882062629, "stop": 1648882062629}, {"name": "响应耗时(s): 0.023816", "status": "passed", "start": 1648882062645, "stop": 1648882062645}, {"name": "响应结果", "status": "passed", "attachments": [{"name": "响应结果", "source": "d54533c9-92e3-4fc7-912b-01e0f816512c-attachment.json", "type": "application/json"}], "start": 1648882062645, "stop": 1648882062645}], "parameters": [{"name": "cases", "value": "['c3', '角色列表查询', '{\"Authorization\": \"${token}\"}', 'userMgr/roleList', 'get', 'params', '', 'check_code', '', '{\"roleId\":\"$.data[?(@.name==\\'test\\')].id\"}', '', 200.0]"}], "start": 1648882062629, "stop": 1648882062645, "uuid": "fa89e7be-7560-40ea-bc1c-ea0960a35053", "historyId": "3a098e261ee7b9115a8be890393002aa", "testCaseId": "881516e7ef2e2aa5436f6a3c3e6a5bcb", "fullName": "test.test_api#test_main", "labels": [{"name": "tag", "value": "flaky(reruns=None, reruns_delay=1)"}, {"name": "parentSuite", "value": "test"}, {"name": "suite", "value": "test_api"}, {"name": "host", "value": "DESKTOP-BNVFIE4"}, {"name": "thread", "value": "13328-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test.test_api"}]}